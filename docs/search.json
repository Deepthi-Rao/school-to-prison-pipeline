[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Political, Racial, and Geographical Trends in the School To Prison Pipeline",
    "section": "",
    "text": "1 Introduction\nThe school-to-prison pipeline refers to a set of policies and practices in U.S. school systems that disproportionately push underserved students, especially students of color, out of classrooms and toward the juvenile and criminal justice systems. The pipeline is rooted in our nation’s long history of segregation, inequality, and inequity; it is then reinforced today by disciplinary practices such as frequent suspensions and expulsions for low grade offenses. In this project, I will study the trends that create this pipeline with a focus on racial disparities and regional patterns. Specifically, I will analyze how rates of suspensions, expulsions, involvement of law enforcement, and arrests vary by race and geographic location.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "Code\nlibrary(readxl)\nlibrary(dplyr)\n\n# 1. Read the Excel file into a *data frame*\ndf &lt;- read_excel(\"./data/2020-2021/CRDC_2020-21_AK.xlsx\", sheet = 1)\n\n# 2. Filter to the relevant columns\ndf_filtered &lt;- df |&gt;\n  select(\n    # ID/context columns if they exist\n    any_of(c(\"LEA_STATE\", \"LEAID\", \"SCH_ID\", \"SCH_NAME\")),\n    \n    # total enrollment by gender\n    any_of(c(\"TOT_ENR_M\", \"TOT_ENR_F\")),\n    \n    # race-specific enrollment: SCH_ENR_[RACE]_[M/F]\n    matches(\"^SCH_ENR_.*_[MF]$\"),\n    \n    # discipline: in-school + out-of-school suspensions\n    matches(\"^SCH_(DISCWODIS|DISCWDIS)_\"),\n    \n    # expulsion / alternative placements\n    matches(\"^SCH_(DISCWODIS|DISCWDIS)_(EXP|EXPEL|ALT|ALTR)_\"),\n    \n    # law enforcement: referrals + arrests\n    matches(\"^SCH_(DISCWODIS|DISCWDIS)_(REF|ARR)_\")\n  )\n\n\nhttps://civilrightsdata.ed.gov/view\nThe data that I obtained was from the Civil Rights Data Collection owned and maintained by the U.S Department of Education. All public schools K-12, across the 50 states, including charter schools self-report this data. The file format for the 2020-2021 time frame was mainly available in .xlsx format. I focused my analysis on the school 2020–2021 year; the files were primarily available in .xlsx format, which I accessed via a publicly available API, downloading them separately for each U.S. state via a python script.\nFor this project I used a subset of the columns that were available in this data set including TOT_ENR_M, TOT_ENR_F which represented total student counts faceted by gender. There was also more race specific faceting represented by the ‘RACE’ and ‘M/F’. I then used fields that represented disciplinary measures, SCH_DISCWODIS_* and SCH_DISCWDIS_*, for in school and out of school suspensions. For “pipeline” outcomes I pulled expulsion and alternative placement counts with columns that contained the patterns of EXP|EXPEL|ALT|ALTR and law-enforcement contact referrals and arrests with the patterns of REF and ARR; all of which were also faceted by race and gender. These patterns and definitions come from the U.S. Dept. of Ed’s Civil Rights Data Collection codebooks.\nhttps://www.fec.gov/introduction-campaign-finance/election-results-and-voting-information/federal-elections-2020/\nThe data regarding election results for the 2020 election was obtained from the Federal Elections Commission website, an official website of the United States government.\n\n3 Missing Data\n\n\nCode\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(purrr)\nlibrary(tidyr)\n\ndata_dir &lt;- \"./data/2020-2021\"\n\nfiles &lt;- list.files(\n  data_dir,\n  pattern = \"CRDC_2020-21_.*\\\\.xlsx$\",\n  full.names = TRUE\n)\n\nread_state_file &lt;- function(path) {\n  df    &lt;- suppressMessages(read_excel(path, sheet = 1, col_types = \"text\"))\n  fname &lt;- basename(path)\n  \n  # State from LEA_STATE or filename\n  state_code &lt;- if (\"LEA_STATE\" %in% names(df)) {\n    df$LEA_STATE[1]\n  } else {\n    m &lt;- str_match(fname, \"CRDC_2020-21_([A-Z]{2})\\\\.xlsx\")\n    if (!is.na(m[1, 2])) m[1, 2] else NA_character_\n  }\n  \n  df |&gt;\n    mutate(\n      source_file = fname,\n      state       = state_code\n    )\n}\n\ncrdc_raw &lt;- map_dfr(files, read_state_file)\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(ggplot2)\nlibrary(viridis)   # for viridis color scale, optional\n\n# ID-like columns we do NOT want to treat as data fields\nid_cols &lt;- c(\"state\", \"source_file\", \"SCHID\", \"NCESSCH\", \"LEAID\", \"LEA_STATE\")\nid_cols &lt;- intersect(id_cols, names(crdc_raw))\n\n# All data columns that may contain missing values\ndata_cols &lt;- setdiff(names(crdc_raw), id_cols)\n\nmissing_by_state &lt;- crdc_raw |&gt;\n  group_by(state) |&gt;\n  summarise(\n    missing_count = sum(is.na(across(all_of(data_cols)))),\n    total_cells   = sum(length(data_cols)),\n    .groups       = \"drop\"\n  ) |&gt;\n  arrange(desc(missing_count))\n\nmissing_by_state\n\n\n# A tibble: 52 × 3\n   state missing_count total_cells\n   &lt;chr&gt;         &lt;int&gt;       &lt;int&gt;\n 1 CA         17574461        3462\n 2 TX         15309152        3462\n 3 NY          8482950        3462\n 4 IL          7284956        3462\n 5 AZ          6991934        3462\n 6 FL          6907553        3462\n 7 OH          6148898        3462\n 8 MI          6075222        3462\n 9 PA          5115624        3462\n10 NC          4656149        3462\n# ℹ 42 more rows\n\n\nCode\nggplot(missing_by_state,\n       aes(x = reorder(state, missing_count), y = missing_count)) +\n  geom_col(fill = \"steelblue\") +\n  coord_flip() +\n  labs(\n    title = \"Missing Value Count per State in Raw CRDC Data\",\n    x = \"State\",\n    y = \"Number of Missing Values\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis widespread absence of California’s data is evident in choropleth maps throughout the results section. The state’s incomplete data highlights an important limitation of the CRDC dataset; inconsistent or incomplete reporting, which in turn affects nationwide comparisons. Texas is also missing quite a bit of data however which is notable.\n\n\nCode\nlibrary(dplyr)\n\n\n# ID-like columns we don't treat as data fields\nid_cols &lt;- c(\"state\", \"source_file\", \"SCHID\", \"NCESSCH\", \"LEAID\", \"LEA_STATE\")\nid_cols &lt;- intersect(id_cols, names(crdc_raw))\n\ndata_cols &lt;- setdiff(names(crdc_raw), id_cols)\n\n# All enrollment columns (you can narrow this if you want)\nenr_cols &lt;- grep(\"ENR\", names(crdc_raw), value = TRUE)\n\nstate_missing_enroll &lt;- crdc_raw %&gt;%\n  # 1) make enrollment numeric\n  mutate(\n    across(all_of(enr_cols), ~ suppressWarnings(as.numeric(.)))\n  ) %&gt;%\n  # 2) treat negative enrollment codes as missing\n  mutate(\n    across(all_of(enr_cols), ~ ifelse(. &lt; 0, NA, .))\n  ) %&gt;%\n  # 3) compute enrollment per school (row)\n  mutate(\n    enrollment_row = rowSums(across(all_of(enr_cols)), na.rm = TRUE)\n  ) %&gt;%\n  group_by(state) %&gt;%\n  # 4) sum enrollment + count NAs across data columns\n  summarise(\n    total_enrollment = sum(enrollment_row, na.rm = TRUE),\n    missing_count    = sum(is.na(across(all_of(data_cols)))),\n    .groups = \"drop\"\n  ) %&gt;%\n  # just in case some weird state has no enrollment at all\n  filter(total_enrollment &gt; 0)\n\nstate_missing_enroll\n\n\n# A tibble: 50 × 3\n   state total_enrollment missing_count\n   &lt;chr&gt;            &lt;dbl&gt;         &lt;int&gt;\n 1 AK              490579       1020268\n 2 AL             2849395       2869138\n 3 AR             2040355       2180517\n 4 CO             3975478       3934986\n 5 CT             2291741       2427903\n 6 DC              406474        496695\n 7 DE              598137        477807\n 8 FL            12346106       8137955\n 9 GA             7590879       4893978\n10 HI              550006        606409\n# ℹ 40 more rows\n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(scales)\nlibrary(ggrepel)\nggplot(state_missing_enroll,\n       aes(x = total_enrollment, y = missing_count)) +\n  geom_point(size = 3, alpha = 0.7, color = \"steelblue\") +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"black\") +\n  geom_text_repel(\n    aes(label = state),\n    size = 3,\n    max.overlaps = 5,   # increase if labels still get dropped\n    box.padding = 0.25,\n    point.padding = 0.2\n  ) +\n  scale_x_continuous(labels = comma) +\n  scale_y_continuous(labels = comma) +\n  labs(\n    title = \"Relationship Between Total Enrollment and Missing Data by State\",\n    x = \"Total Enrollment (all schools combined)\",\n    y = \"Number of Missing Values\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis figure shows a clear positive relationship between a state’s total student enrollment and the number of missing values in its raw CRDC file. States with more students also tend to have more missing entries. Texas has the most enrollment and also the most missing data which seems expected.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\nmissing data from 2019-2020 and 2018-2019, figure out why?",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "In order to contextualize standard disciplinary rates across the country and spot outlier states, the data was converted from raw discipline counts into an overall proportion: total disciplinary actions divided by total enrollment. The analysis below is standardized in this way so that states would be directly comparable. For example this would help mitigate for a case like Texas which has more disciplinary actions than a small state like Vermont, simply because it has more students. If the data was not standardized in this way the overall interpretation would have been heavily skewed or be an inaccurate representation.\n\n\nCode\n# Install if needed:\n# install.packages(c(\"readxl\", \"dplyr\", \"ggplot2\", \"stringr\", \"purrr\"))\n\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(stringr)\nlibrary(purrr)\n\n# Folder where all your state files live\n# e.g. \"data/CRDC_2020-21_XX.xlsx\" for each state\ndata_dir &lt;- \"./data/2020-2021\"  # &lt;-- CHANGE THIS\n\n# List all state Excel files\nfiles &lt;- list.files(\n  data_dir,\n  pattern = \"CRDC_2020-21_.*\\\\.xlsx$\",\n  full.names = TRUE\n)\noptions(readxl.quiet = TRUE)\n\n\n\n\nCode\ndisc_cols &lt;- c(\n  # Corporal punishment\n  \"TOT_DISCWODIS_CORP_M\", \"TOT_DISCWODIS_CORP_F\",\n  \"TOT_DISCWDIS_CORP_IDEA_M\", \"TOT_DISCWDIS_CORP_IDEA_F\",\n  \n  # Expulsions (with/without services, zero-tolerance, etc.)\n  \"TOT_DISCWODIS_EXPWE_M\", \"TOT_DISCWODIS_EXPWE_F\",\n  \"TOT_DISCWDIS_EXPWE_IDEA_M\", \"TOT_DISCWDIS_EXPWE_IDEA_F\",\n  \"TOT_DISCWODIS_EXPWOE_M\", \"TOT_DISCWODIS_EXPWOE_F\",\n  \"TOT_DISCWDIS_EXPWOE_IDEA_M\", \"TOT_DISCWDIS_EXPWOE_IDEA_F\",\n  \"TOT_DISCWODIS_EXPZT_M\", \"TOT_DISCWODIS_EXPZT_F\",\n  \"TOT_DISCWDIS_EXPZT_IDEA_M\", \"TOT_DISCWDIS_EXPZT_IDEA_F\",\n  \n  # Referrals to law enforcement\n  \"TOT_DISCWODIS_REF_M\", \"TOT_DISCWODIS_REF_F\",\n  \"TOT_DISCWDIS_REF_IDEA_M\", \"TOT_DISCWDIS_REF_IDEA_F\",\n  \n  # School-related arrests\n  \"TOT_DISCWODIS_ARR_M\", \"TOT_DISCWODIS_ARR_F\",\n  \"TOT_DISCWDIS_ARR_IDEA_M\", \"TOT_DISCWDIS_ARR_IDEA_F\",\n  \n  # In-school suspension\n  \"TOT_DISCWODIS_ISS_M\", \"TOT_DISCWODIS_ISS_F\",\n  \"TOT_DISCWDIS_ISS_IDEA_M\", \"TOT_DISCWDIS_ISS_IDEA_F\",\n  \n  # Single out-of-school suspension\n  \"TOT_DISCWODIS_SINGOOS_M\", \"TOT_DISCWODIS_SINGOOS_F\",\n  \"TOT_DISCWDIS_SINGOOS_IDEA_M\", \"TOT_DISCWDIS_SINGOOS_IDEA_F\",\n  \n  # Multiple out-of-school suspensions\n  \"TOT_DISCWODIS_MULTOOS_M\", \"TOT_DISCWODIS_MULTOOS_F\",\n  \"TOT_DISCWDIS_MULTOOS_IDEA_M\", \"TOT_DISCWDIS_MULTOOS_IDEA_F\",\n  \n  # Transfers to alternative schools\n  \"TOT_DISCWODIS_TFRALT_M\", \"TOT_DISCWODIS_TFRALT_F\",\n  \"TOT_DISCWDIS_TFRALT_IDEA_M\", \"TOT_DISCWDIS_TFRALT_IDEA_F\"\n)\n\n\n\n\nCode\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(purrr)\nlibrary(tibble)\n\nrace_table &lt;- tibble(\n  race_code  = c(\"AM\", \"AS\", \"BL\", \"HI\", \"HP\", \"WH\", \"TR\"),\n  race_label = c(\n    \"Am. Indian / Alaska Native\",\n    \"Asian\",\n    \"Black or African American\",\n    \"Hispanic/Latino\",\n    \"Native Hawaiian / Pacific Islander\",\n    \"White\",\n    \"Two or more races\"\n  )\n)\n\ncompute_state_and_state_race_metrics &lt;- function(path, race_table) {\n  df &lt;- suppressMessages(readxl::read_excel(path, sheet = 1))\n  fname &lt;- basename(path)\n  \n  state_code &lt;- if (\"LEA_STATE\" %in% names(df)) {\n    as.character(df$LEA_STATE[1])\n  } else {\n    m &lt;- stringr::str_match(fname, \"CRDC_2020-21_([A-Z]{2})\\\\.xlsx\")\n    if (!is.na(m[1, 2])) m[1, 2] else fname\n  }\n  \n  df_num &lt;- df |&gt;\n    dplyr::mutate(dplyr::across(dplyr::everything(),\n                                ~ suppressWarnings(as.numeric(.))))\n  df_num[df_num &lt; 0] &lt;- NA\n  \n  ## ---------- A. OVERALL STATE METRICS ----------\n  if (all(c(\"TOT_ENR_M\", \"TOT_ENR_F\") %in% names(df_num))) {\n    enr_all &lt;- df_num$TOT_ENR_M + df_num$TOT_ENR_F\n  } else {\n    enr_cols_all &lt;- grep(\"^SCH_ENR_.*_[MF]$\", names(df_num), value = TRUE)\n    enr_all &lt;- if (length(enr_cols_all) &gt; 0) {\n      rowSums(df_num[, enr_cols_all, drop = FALSE], na.rm = TRUE)\n    } else {\n      rep(NA_real_, nrow(df_num))\n    }\n  }\n  \n  # discipline bucket = ISS + single OSS + multiple OSS\n  disc_cols_all &lt;- grep(\n    \"^SCH_(DISCWODIS|DISCWDIS)_(ISS|SINGOOS|MULTOOS)_\",\n    names(df_num),\n    value = TRUE,\n    perl = TRUE\n  )\n  disc_all &lt;- if (length(disc_cols_all) &gt; 0) {\n    rowSums(df_num[, disc_cols_all, drop = FALSE], na.rm = TRUE)\n  } else {\n    rep(NA_real_, nrow(df_num))\n  }\n  \n  total_students_state &lt;- sum(enr_all,  na.rm = TRUE)\n  total_actions_state  &lt;- sum(disc_all, na.rm = TRUE)\n  \n  rate_per_state &lt;- ifelse(\n    total_students_state &gt; 0,\n    total_actions_state / total_students_state,\n    NA_real_\n  )\n  \n  state_data &lt;- tibble::tibble(\n    state          = state_code,\n    total_students = total_students_state,\n    total_actions  = total_actions_state,\n    rate_per       = rate_per_state\n  )\n  \n  ## ---------- B. STATE × RACE METRICS ----------\n  race_list &lt;- lapply(race_table$race_code, function(race) {\n    # enrollment for this race\n    enr_cols_r &lt;- grep(\n      paste0(\"^SCH_ENR_\", race, \"_[MF]$\"),\n      names(df_num),\n      value = TRUE\n    )\n    \n    # discipline (ISS + single OSS + multi OSS) for this race\n    disc_cols_r &lt;- grep(\n      paste0(\"^SCH_(DISCWODIS|DISCWDIS)_(ISS|SINGOOS|MULTOOS)_.*_\", race, \"_[MF]$\"),\n      names(df_num),\n      value = TRUE,\n      perl = TRUE\n    )\n    \n    # NEW: law-enforcement referrals for this race\n    ref_cols_r &lt;- grep(\n      paste0(\"^SCH_(DISCWODIS|DISCWDIS)_REF_.*_\", race, \"_[MF]$\"),\n      names(df_num),\n      value = TRUE,\n      perl = TRUE\n    )\n    \n    if (length(enr_cols_r) == 0) {\n      return(tibble::tibble(\n        state               = state_code,\n        race_code           = race,\n        total_students_race = NA_real_,\n        total_actions_race  = NA_real_,\n        rate_per_race       = NA_real_,\n        total_ref_race      = NA_real_,   \n        ref_per_race        = NA_real_  \n      ))\n    }\n    \n    enr_r  &lt;- rowSums(df_num[, enr_cols_r,  drop = FALSE], na.rm = TRUE)\n    \n    disc_r &lt;- if (length(disc_cols_r) &gt; 0) {\n      rowSums(df_num[, disc_cols_r, drop = FALSE], na.rm = TRUE)\n    } else {\n      rep(NA_real_, nrow(df_num))\n    }\n    \n    # NEW: referral counts\n    ref_r &lt;- if (length(ref_cols_r) &gt; 0) {\n      rowSums(df_num[, ref_cols_r, drop = FALSE], na.rm = TRUE)\n    } else {\n      rep(NA_real_, nrow(df_num))\n    }\n    \n    total_students_race &lt;- sum(enr_r,  na.rm = TRUE)\n    total_actions_race  &lt;- sum(disc_r, na.rm = TRUE)\n    total_ref_race      &lt;- sum(ref_r,  na.rm = TRUE)  # NEW\n    \n    rate_per_race &lt;- ifelse(\n      total_students_race &gt; 0,\n      total_actions_race / total_students_race,\n      NA_real_\n    )\n    \n    ref_per_race &lt;- ifelse(                      # NEW\n      total_students_race &gt; 0,\n      total_ref_race / total_students_race,\n      NA_real_\n    )\n    \n    tibble::tibble(\n      state               = state_code,\n      race_code           = race,\n      total_students_race = total_students_race,\n      total_actions_race  = total_actions_race,\n      rate_per_race       = rate_per_race,\n      total_ref_race      = total_ref_race,      # NEW\n      ref_per_race        = ref_per_race        # NEW\n    )\n  })\n  \n  state_race_data &lt;- dplyr::bind_rows(race_list)\n  \n  list(\n    state_data      = state_data,\n    state_race_data = state_race_data\n  )\n}\n\n\n\n\nCode\nresults &lt;- purrr::map(files, compute_state_and_state_race_metrics, race_table = race_table)\n\n# overall-by-state\nstate_data &lt;- bind_rows(lapply(results, `[[`, \"state_data\"))\n\n# state × race\nstate_race_rates &lt;- bind_rows(lapply(results, `[[`, \"state_race_data\")) |&gt;\n  left_join(race_table, by = \"race_code\")\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\nplot_df &lt;- state_data |&gt;\n  filter(total_students &gt; 0, !is.na(rate_per))\n\nggplot(plot_df, aes(x = rate_per)) +\n  # histogram (as density)\n  geom_histogram(\n    aes(y = ..density..),\n    bins = 20,\n    color = \"black\",\n    fill  = \"grey80\"\n  ) +\n  # purple density curve\n  geom_density(\n    linewidth = 1,\n    color = \"purple\"\n  ) +\n  scale_x_continuous(\n    \"Disciplinary actions per student\",\n    labels = percent_format(accuracy = 0.1)\n  ) +\n  labs(\n    y = \"Density\",\n    title = \"Distribution of Discipline Rates Across States For The 2020-2021 School Year\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThe histogram above plots the distribution of these discipline rates by density of states that fall in this range. This distribution of disciplinary rates is right skewed; most states cluster at a relatively low disciplinary rate, while a small number of states display higher rates. Understanding the distribution in this way gives a natural way to define and study outliers. States that sit in the right tail, well above where most of the density is concentrated, are those with unusually high levels of disciplinary action relative to their student population. Below we will explore which states which make up the outliers shown by this histogram.\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\n# state_data: state, total_students, total_actions, rate_per\nstate_disc &lt;- state_data |&gt;\n  filter(total_students &gt; 0, !is.na(rate_per)) |&gt;\n  mutate(\n    state_full = case_when(\n      state %in% state.abb ~ state.name[match(state, state.abb)],\n      state == \"DC\"        ~ \"District of Columbia\",\n      state == \"PR\"        ~ \"Puerto Rico\",\n      TRUE                 ~ state\n    )\n  )\n# 2. Cleveland dot plot with purple → yellow color scale\nggplot(state_disc,\n       aes(x = reorder(state_full, rate_per),\n           y = rate_per)) +\n  # stem from 0 to each point\n  geom_segment(aes(xend = state_full, y = 0, yend = rate_per),\n               color = \"grey80\") +\n  # dot, colored by discipline rate\n  geom_point(aes(color = rate_per), size = 3) +\n  coord_flip() +\n  scale_y_continuous(\n    labels = percent_format(accuracy = 0.1),\n    name   = \"Disciplinary Action Rate\"\n  ) +\n  scale_color_viridis_c(\n    option = \"C\",  # purple → yellow\n    labels = percent_format(accuracy = 0.1),\n    name   = \"Discipline Rate\"\n  ) +\n  labs(\n    x = \"State\",\n    title = \"Which states enforce the most disciplinary measures for the 2020-2021 school year?\"\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nWe can observe this Cleveland Cot Plot was created to further understand the exact states and their corresponding disciplinary rates. From the plot we can see that there are clear outliers among the states. Arkansas, Mississippi, South Carolina, Louisana and Alabama all have the highest incidences of disciplinary actions. In contrast Hawaii, Puerto Rico, the District of Columbia, and Maryland have rates close to zero, indicating that formal disciplinary actions are relatively rare in those states. These rates cannot be directly interpreted as “10% of students in Arkansas have experienced a disciplinary measure” as the data reflects total actions per category which could reflect multiple disciplinary actions for a single student. It also appears states cluster around the 2–5% disciplinary action rate, this is supported by the histogram above.\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(maps)\n\n# 1. Prepare state data with full names and a 'region' column\nstate_data_map &lt;- state_data |&gt;\n  filter(total_students &gt; 0, !is.na(rate_per)) |&gt;\n  mutate(\n    state_full = case_when(\n      state %in% state.abb ~ state.name[match(state, state.abb)],\n      state == \"DC\"        ~ \"District of Columbia\",\n      state == \"PR\"        ~ \"Puerto Rico\",\n      TRUE                 ~ state\n    ),\n    region = tolower(state_full)\n  )\n\n# 2. Get US state polygons\nus_states &lt;- map_data(\"state\")   # has column 'region' with lowercase state names\n\n# 3. Join polygons with your rates\nmap_df &lt;- us_states |&gt;\n  left_join(state_data_map, by = \"region\")\n\n# 4. Compute label positions (one per state)\nstate_labels &lt;- map_df |&gt;\n  group_by(region) |&gt;\n  summarise(\n    long  = mean(range(long)),   # rough centroid\n    lat   = mean(range(lat)),\n    label = first(state)         # 2-letter abbreviation from your data\n  )\nggplot(map_df, aes(x = long, y = lat, group = group, fill = rate_per)) +\n  geom_polygon(color = \"white\", linewidth = 0.2) +\n  geom_text(\n    data = state_labels,\n    aes(x = long, y = lat, label = label),\n    inherit.aes = FALSE,        # &lt;-- key line: don't inherit 'group'\n    color = \"white\",\n    size = 3,\n    fontface = \"bold\"\n  ) +\n  coord_fixed(1.3) +\n  scale_fill_viridis_c(\n    option = \"C\",\n    na.value = \"grey90\",\n    name = \"Disciplinary Action Rate \"\n  ) +\n  labs(\n    title = \"Disciplinary Actions Rate Per State For The 2020-2021 School Year\",\n    x = NULL,\n    y = NULL\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text  = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nThis choropleth map helps to bridge the gap between understanding geographical patterns and enforcement of disciplinary actions. This helps to understand how student experiences vary across states and regions. It appears that Midwestern states have higher rates of disciplinary measures overall compared to other parts of the country. Mapping these data in this way can show how rates cluster in parts of the country. From this we can gather if these trends correlate with broader social or political leanings.\n\n\nCode\n# install.packages(c(\"readxl\", \"dplyr\", \"ggplot2\", \"viridis\", \"maps\"))  # run once\n\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(viridis)\nlibrary(maps)\n\n# ---- 1. Read the Excel sheet 3 ----\npath &lt;- \"./data/federalelections2020.xlsx\"\n\nraw_df &lt;- read_excel(\n  path,\n  sheet = \"3. Table 2 Electoral & Pop Vote\",\n  skip = 3\n)\n# Explicit columns (based on the names you provided)\nstate_col      &lt;- \"...1\"\nbiden_pop_col  &lt;- \"Biden (D)...4\"\ntrump_pop_col  &lt;- \"Trunp (R)...5\"\ntotal_col      &lt;- \"Total Vote\"\n\n# ---- 2. Clean to state-level rows ----\ndf &lt;- raw_df |&gt;\n  filter(!is.na(.data[[state_col]])) |&gt;\n  mutate(\n    state = gsub(\"\\\\*\", \"\", .data[[state_col]]) # remove * from ME*, NE*\n  ) |&gt;\n  filter(nchar(state) == 2) |&gt;  # keep only real states\n  mutate(\n    biden_votes = .data[[biden_pop_col]],\n    trump_votes = .data[[trump_pop_col]],\n    total_votes = .data[[total_col]],\n    winner = if_else(biden_votes &gt; trump_votes, \"Biden\", \"Trump\"),\n    signed_total_millions = if_else(\n      winner == \"Biden\",\n      total_votes,\n      -total_votes\n    ) / 1e6\n  )\nelection_df &lt;- raw_df |&gt;\n  filter(!is.na(.data[[state_col]])) |&gt;\n  mutate(\n    state = gsub(\"\\\\*\", \"\", .data[[state_col]]) # remove * from ME*, NE*\n  ) |&gt;\n  filter(nchar(state) == 2) |&gt;\n  mutate(\n    biden_votes = .data[[biden_pop_col]],\n    trump_votes = .data[[trump_pop_col]],\n    total_votes = .data[[total_col]],\n    winner = if_else(biden_votes &gt; trump_votes, \"Biden\", \"Trump\"),\n    margin_share = (biden_votes - trump_votes) / total_votes  # between about -0.4 and 0.4\n  )\n# ---- 3. Map state abbreviations to full state names ----\nstate_lookup &lt;- tibble(\n  state  = c(state.abb, \"DC\"),\n  region = tolower(c(state.name, \"District of Columbia\"))\n)\n\ndf_map &lt;- election_df |&gt;\n  left_join(state_lookup, by = \"state\")\n\n# ---- 4. Join with map_data polygons ----\nus_map &lt;- map_data(\"state\")\n\nmap_df &lt;- us_map |&gt;\n  left_join(df_map, by = \"region\")\n\n# ---- 5. Plot (your exact style) ----\nggplot(\n  map_df,\n  aes(x = long, y = lat, group = group, fill = margin_share)\n) +\n  geom_polygon(color = \"white\", linewidth = 0.2) +\n geom_text(\n  data = state_labels,\n  aes(x = long, y = lat, label = label),\n  inherit.aes = FALSE,        # &lt;-- key line: don't inherit 'group'\n  color = \"black\",\n  size = 3,\n  fontface = \"bold\"\n) +\n  coord_fixed(1.3) +\n  scale_fill_gradient2(\n    low = \"red\",\n    mid = \"white\",\n    high = \"blue\",\n    midpoint = 0,\n    limits = c(-0.4, 0.4),            # symmetric around 0 so colors are balanced\n    na.value = \"grey90\",\n    name = \"Democrat/Republican Vote Share\"\n  ) +\n  labs(\n    title = \"2020 Presidential Election\\n Popular Vote over Total Vote\",\n    x = NULL,\n    y = NULL\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text  = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nWhen the disciplinary action rate map for 2020-2021 and the results of the 2020 presindential election are juxtaposed, a clear visual pattern emerges. It appears that states that lean more conservatively, shown in deeper red, tend to correspond with states that exhibit higher disciplinary action rates. In contrast many states that voted more liberally, shown in blue, align with lower disciplinary rates. Although this correlation cannot establish causality, the geographic overlap between political leanings and disciplinary action rates is striking.\n\n\nCode\njoined &lt;- state_data |&gt;\n  left_join(election_df, by = \"state\")\n\njoined &lt;- joined |&gt;\n  mutate(\n    winner = if_else(margin_share &gt; 0, \"Democrat\", \"Republican\"),\n    winner = factor(winner, levels = c(\"Democrat\", \"Republican\"))\n  )\n\nlibrary(broom)\nlibrary(ggrepel)\n\n# correlation + simple linear model\ncor_test &lt;- cor.test(joined$rate_per, joined$margin_share)\ncor_label &lt;- paste0(\"r = \", round(cor_test$estimate, 2))\n\nggplot(joined, aes(x = rate_per, y = margin_share)) +\n  # 1) Democrats first (background)\n  geom_point(\n    data = filter(joined, winner == \"Democrat\"),\n    aes(color = winner),\n    alpha = 0.7\n  ) +\n  # 2) Republicans second (on top)\n  geom_point(\n    data = filter(joined, winner == \"Republican\"),\n    aes(color = winner),\n    alpha = 0.7\n  ) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"black\") +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"grey50\") +\n  # labels: Dems first, then GOP on top\n  geom_text_repel(\n    data = filter(joined,\n                  rate_per &gt; 0.06 | abs(margin_share) &gt; 0.20,\n                  winner == \"Democrat\"),\n    aes(label = state, color = winner),\n    size = 3,\n    show.legend = FALSE\n  ) +\n  geom_text_repel(\n    data = filter(joined,\n                  rate_per &gt; 0.06 | abs(margin_share) &gt; 0.20,\n                  winner == \"Republican\"),\n    aes(label = state, color = winner),\n    size = 3,\n    show.legend = FALSE\n  ) +\n  annotate(\"text\", x = Inf, y = Inf, label = cor_label,\n           hjust = 1.1, vjust = 1.5, size = 4) +\n  scale_y_continuous(labels = percent_format(accuracy = 1)) +\n  scale_x_continuous(labels = percent_format(accuracy = 0.1)) +\n  scale_color_manual(\n    values = c(\"Democrat\" = \"blue\", \"Republican\" = \"red\"),\n    name   = \"2020 State Winner\"\n  ) +\n  labs(\n    title = \"Disciplinary Action Rate vs 2020 Political Landscape\",\n    x = \"Disciplinary action rate (actions per student)\",\n    y = \"Vote Share (Republican/Democrat)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nTo further quantify this visual trend a scatter plot with a linear regression and corresponding confidence interval were fitted. The plot reveals a strong correlation between a states’ disciplinary action rate and its political leanings. An r value of -.71 indicates a strong correlation indicating that partisan alignment could be associated with discipline rates.\nWhile this graph is not meant to imply that political ideology causes disciplinary rates to go up or down, it strongly suggests that there is a cultural or political environment that correlates partisan alignment with how frequently schools use disciplinary actions. This could include differences in state laws, funding levels, demographics, and other social factors. The scatterplot and the corresponding linear regression provide a compelling starting point to explore those trends more deeply.\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(maps)\nlibrary(scales)\n\n# 1. Prep race-level data (NO filtering!)\nstate_race_map &lt;- state_race_rates |&gt;\n  mutate(\n    state_full = case_when(\n      state %in% state.abb ~ state.name[match(state, state.abb)],\n      state == \"DC\"        ~ \"District of Columbia\",\n      state == \"PR\"        ~ \"Puerto Rico\",\n      TRUE                 ~ state\n    ),\n    region = tolower(state_full)\n  )\n\n# 2. Base US polygons\nus_states &lt;- map_data(\"state\")\n\n# 3. Join polygons with race-level rates\nmap_race_df &lt;- us_states |&gt;\n  left_join(state_race_map, by = \"region\") |&gt;\n  # Only drop polygons where we *never* had a race (join failed completely)\n  filter(!is.na(race_label))\n\n# 4. Faceted choropleth by race\nggplot(\n  map_race_df,\n  aes(x = long, y = lat, group = group, fill = rate_per_race)\n) +\n  geom_polygon(color = \"white\", linewidth = 0.2) +\n  coord_fixed(1.3) +\n  facet_wrap(~ race_label) +\n  scale_fill_viridis_c(\n    option = \"C\",\n    na.value = \"grey90\",                      # states with no data for that race = grey\n    labels = percent_format(accuracy = 0.1),\n    name = \"Discipline rate\"\n  ) +\n  labs(\n    title = \"Disciplinary Actions per Student by State\\nFaceted by Race \\nFor The 2020-2021 School Year\",\n    x = NULL,\n    y = NULL\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text  = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank(),\n    strip.text = element_text(face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\nDiving deeper into studying what racial biases could exist in rate of disciplinary measures given, a choropleth graph depicting the disciplinary rates faceted by race was created. We can see a clear trend emerge that American Indian (Native American), Alaska Native, Black and Multiracial students experience notably higher rates of disciplinary measures.\nArkansas stands out as one of the states with consistently high disciplinary action rates, regardless of which race. On the faceted maps, Arkansas is repeatedly shaded in the upper end of the scale, indicating that students in the state experience disciplinary actions at disproportionately high levels compared with much of the country.\n\n\nCode\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(tidyr)\n\nrace_table &lt;- tibble::tibble(\n  race_code  = c(\"AM\", \"AS\", \"BL\", \"HI\", \"HP\", \"WH\", \"TR\"),\n  race_label = c(\n    \"Am. Indian / Alaska Native\",\n    \"Asian\",\n    \"Black or African American\",\n    \"Hispanic/Latino\",\n    \"Native Hawaiian / Pacific Islander\",\n    \"White\",\n    \"Two or more races\"\n  )\n)\n\ncompute_state_race_outcomes &lt;- function(path, race_table) {\n  df &lt;- suppressMessages(readxl::read_excel(path, sheet = 1))\n  fname &lt;- basename(path)\n  \n  # --- state code from LEA_STATE or filename ---\n  state_code &lt;- if (\"LEA_STATE\" %in% names(df)) {\n    as.character(df$LEA_STATE[1])\n  } else {\n    m &lt;- stringr::str_match(fname, \"CRDC_2020-21_([A-Z]{2})\\\\.xlsx\")\n    if (!is.na(m[1, 2])) m[1, 2] else fname\n  }\n  \n  # numeric version, negatives -&gt; NA\n  df_num &lt;- df |&gt;\n    mutate(across(everything(), ~ suppressWarnings(as.numeric(.))))\n  df_num[df_num &lt; 0] &lt;- NA\n  \n  # ---- loop over races ----\n  res_list &lt;- lapply(race_table$race_code, function(race) {\n    ## Enrollment for this race\n    enr_cols_r &lt;- grep(\n      paste0(\"^SCH_ENR_\", race, \"_[MF]$\"),\n      names(df_num),\n      value = TRUE\n    )\n    \n    ## Out-of-school suspensions: single + multiple\n    oss_cols_r &lt;- grep(\n      paste0(\"^SCH_(DISCWODIS|DISCWDIS)_(SINGOOS|MULTOOS)_.*_\", race, \"_[MF]$\"),\n      names(df_num),\n      value = TRUE,\n      perl = TRUE\n    )\n    \n    ## Expulsions / alt placements\n    # (patterns may vary a bit; this grabs common EXP/ALTR-style fields)\n    exp_cols_r &lt;- grep(\n      paste0(\"^SCH_(DISCWODIS|DISCWDIS)_(EXP|EXPEL|ALT|ALTR).*_\", race, \"_[MF]$\"),\n      names(df_num),\n      value = TRUE,\n      perl = TRUE\n    )\n    \n    ## Justice: referrals + arrests\n    justice_cols_r &lt;- grep(\n      paste0(\"^SCH_(DISCWODIS|DISCWDIS)_(REF|ARR)_.*_\", race, \"_[MF]$\"),\n      names(df_num),\n      value = TRUE,\n      perl = TRUE\n    )\n    \n    # if no enrollment columns, nothing to compute\n    if (length(enr_cols_r) == 0) {\n      return(tibble::tibble(\n        state               = state_code,\n        race_code           = race,\n        total_students_race = NA_real_,\n        oss_count           = NA_real_,\n        exp_count           = NA_real_,\n        justice_count       = NA_real_,\n        oss_per_race        = NA_real_,\n        exp_per_race        = NA_real_,\n        justice_per_race    = NA_real_\n      ))\n    }\n    \n    enr_r &lt;- rowSums(df_num[, enr_cols_r, drop = FALSE], na.rm = TRUE)\n    \n    oss_r &lt;- if (length(oss_cols_r) &gt; 0) {\n      rowSums(df_num[, oss_cols_r, drop = FALSE], na.rm = TRUE)\n    } else rep(NA_real_, nrow(df_num))\n    \n    exp_r &lt;- if (length(exp_cols_r) &gt; 0) {\n      rowSums(df_num[, exp_cols_r, drop = FALSE], na.rm = TRUE)\n    } else rep(NA_real_, nrow(df_num))\n    \n    justice_r &lt;- if (length(justice_cols_r) &gt; 0) {\n      rowSums(df_num[, justice_cols_r, drop = FALSE], na.rm = TRUE)\n    } else rep(NA_real_, nrow(df_num))\n    \n    total_students_race &lt;- sum(enr_r, na.rm = TRUE)\n    oss_count           &lt;- sum(oss_r, na.rm = TRUE)\n    exp_count           &lt;- sum(exp_r, na.rm = TRUE)\n    justice_count       &lt;- sum(justice_r, na.rm = TRUE)\n    \n    oss_per_race &lt;- ifelse(total_students_race &gt; 0, oss_count      / total_students_race, NA_real_)\n    exp_per_race &lt;- ifelse(total_students_race &gt; 0, exp_count      / total_students_race, NA_real_)\n    justice_per_race &lt;- ifelse(total_students_race &gt; 0, justice_count / total_students_race, NA_real_)\n    \n    tibble::tibble(\n      state               = state_code,\n      race_code           = race,\n      total_students_race = total_students_race,\n      oss_count           = oss_count,\n      exp_count           = exp_count,\n      justice_count       = justice_count,\n      oss_per_race        = oss_per_race,\n      exp_per_race        = exp_per_race,\n      justice_per_race    = justice_per_race\n    )\n  })\n  \n  dplyr::bind_rows(res_list)\n}\n\n\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\n\nresults_outcomes &lt;- purrr::map_dfr(\n  files,\n  compute_state_race_outcomes,\n  race_table = race_table\n)\n\nstate_race_outcomes &lt;- results_outcomes |&gt;\n  left_join(race_table, by = \"race_code\")\n\nstate_ref &lt;- state_race_outcomes |&gt;\n  group_by(state) |&gt;\n  summarise(\n    total_students = sum(total_students_race, na.rm = TRUE),\n    total_justice  = sum(justice_count,       na.rm = TRUE)\n  ) |&gt;\n  ungroup() |&gt;\n  mutate(ref_per = total_justice / total_students)\n\nstate_ref_long &lt;- state_ref |&gt;\n  filter(total_students &gt; 0, ref_per &gt; 0) |&gt;   # remove 0% states\n  mutate(\n    state_full = case_when(\n      state %in% state.abb ~ state.name[match(state, state.abb)],\n      state == \"DC\"        ~ \"District of Columbia\",\n      state == \"PR\"        ~ \"Puerto Rico\",\n      TRUE                 ~ state\n    )\n  )\n\nggplot(state_ref_long,\n       aes(x = reorder(state_full, ref_per),\n           y = ref_per)) +\n  # grey stem from 0 to the value\n  geom_segment(aes(xend = state_full, y = 0, yend = ref_per),\n               color = \"grey80\") +\n  # dot at the value, colored by rate\n  geom_point(aes(color = ref_per), size = 3) +\n  coord_flip() +\n  scale_y_continuous(labels = percent_format(accuracy = 0.01)) +\n  scale_color_viridis_c(\n    option = \"C\",   # yellow ↔ purple\n    labels = percent_format(accuracy = 0.01),\n    name   = \"Referral rate\\n(per student)\"\n  ) +\n  labs(\n    x = \"State\",\n    y = \"Referrals to law enforcement (per student)\",\n    title = \"Which states are most likely to refer students to law enforcement \\nfor the 2020-2021 school year?\"\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nTaking a closer look at rates of referral to law enforcement reveal interesting trends, a subset of the total disciplinary measures, most states maintain a relatively low rate of referrals to law enforcement. There are some outlier states such as South Dakota and Wyoming. Interestingly these two states do not have the highest rates of disciplinary measures. But of the actions taken a higher percentage result in referral to law enforcement. This pattern potentially suggests that referrals to law enforcement are not evenly distributed across the country nor are they correlated to volume disciplinary measures overall.\n\n\nCode\nlibrary(ggplot2)\nlibrary(scales)\nlibrary(maps)\n\nus_states &lt;- map_data(\"state\")\n\nstate_ref_map &lt;- state_ref |&gt;\n  filter(total_students &gt; 0) |&gt;\n  mutate(\n    state_full = case_when(\n      state %in% state.abb ~ state.name[match(state, state.abb)],\n      state == \"DC\"        ~ \"District of Columbia\",\n      state == \"PR\"        ~ \"Puerto Rico\",\n      TRUE                 ~ state\n    ),\n    region = tolower(state_full)\n  )\nmap_df &lt;- us_states |&gt;\n  left_join(state_ref_map, by = \"region\")\n\nggplot(map_df,\n       aes(x = long, y = lat, group = group, fill = ref_per)) +\n  geom_polygon(color = \"white\", linewidth = 0.2) +\n  geom_text(\n  data = state_labels,\n  aes(x = long, y = lat, label = label),\n  inherit.aes = FALSE,        # &lt;-- key line: don't inherit 'group'\n  color = \"white\",\n  size = 3,\n  fontface = \"bold\"\n) +\n  coord_fixed(1.3) +\n  scale_fill_viridis_c(\n    option = \"C\",  # yellow → purple\n    labels = percent_format(accuracy = 0.01),\n    na.value = \"grey90\",\n    name = \"Referral rate\\n(per student)\"\n  ) +\n  labs(\n    title = \"Rate of Referrals to Law Enforcement by State For The 2020-2021 School Year\",\n    x = NULL, y = NULL\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text  = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nVisually, the map showing referral rates to law enforcement does not reveal the same distinct regional patterns observed in the overall disciplinary rate. However, there is still some visual evidence that states with higher levels of disciplinary action also tend to have higher rates of referrals to law enforcement.\n\n\nCode\njoined &lt;- state_ref_map |&gt;\n  left_join(election_df, by = \"state\")\n\njoined &lt;- joined |&gt;\n  mutate(\n    winner = if_else(margin_share &gt; 0, \"Democrat\", \"Republican\"),\n    winner = factor(winner, levels = c(\"Democrat\", \"Republican\"))\n  )\n\nlibrary(broom)\nlibrary(ggrepel)\n\n# correlation + simple linear model\ncor_test &lt;- cor.test(joined$ref_per, joined$margin_share)\ncor_label &lt;- paste0(\"r = \", round(cor_test$estimate, 2))\n\nggplot(joined, aes(x = ref_per, y = margin_share)) +\n  # 1) Democrats first (background)\n  geom_point(\n    data = filter(joined, winner == \"Democrat\"),\n    aes(color = winner),\n    alpha = 0.7\n  ) +\n  # 2) Republicans second (on top)\n  geom_point(\n    data = filter(joined, winner == \"Republican\"),\n    aes(color = winner),\n    alpha = 0.7\n  ) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"black\") +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"grey50\") +\n  # labels: Dems first, then GOP on top\n  geom_text_repel(\n    data = filter(joined,\n                  ref_per &gt; 0.06 | abs(margin_share) &gt; 0.20,\n                  winner == \"Democrat\"),\n    aes(label = state, color = winner),\n    size = 3,\n    show.legend = FALSE\n  ) +\n  geom_text_repel(\n    data = filter(joined,\n                  ref_per &gt; 0.06 | abs(margin_share) &gt; 0.20,\n                  winner == \"Republican\"),\n    aes(label = state, color = winner),\n    size = 3,\n    show.legend = FALSE\n  ) +\n  annotate(\"text\", x = Inf, y = Inf, label = cor_label,\n           hjust = 1.1, vjust = 1.5, size = 4) +\n  scale_y_continuous(labels = percent_format(accuracy = 1)) +\n  scale_x_continuous(labels = percent_format(accuracy = 0.1)) +\n  scale_color_manual(\n    values = c(\"Democrat\" = \"blue\", \"Republican\" = \"red\"),\n    name   = \"2020 State Winner\"\n  ) +\n  labs(\n    title = \"Referral to Law Enforcement Rate vs 2020 Political Landscape\",\n    x = \"Referral to Law Enforcement Rate\",\n    y = \"Vote Share (Republican/Democrat)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nBringing it back to political trends, this scatter plot shows correlation between referral to law enforcement rates and its relationship to political leanings. The graph indicates a moderate correlation between a state’s rate of referrals to law enforcement and its 2020 presidential vote margin. While graph indicated some correlation indicating that higher referral rates tend to occur in more Republican-leaning states the pattern is much noisier than in the earlier disciplinary-rate plot. The overall picture could suggest that political orientation still relates to law-enforcement referral practices, but the association is weaker than for general disciplinary actions.\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(maps)\nlibrary(scales)\n\n# 1. Prep race-level data for mapping\nstate_race_map &lt;- state_race_outcomes |&gt;\n  mutate(\n    state_full = case_when(\n      state %in% state.abb ~ state.name[match(state, state.abb)],\n      state == \"DC\"        ~ \"District of Columbia\",\n      state == \"PR\"        ~ \"Puerto Rico\",\n      TRUE                 ~ state\n    ),\n    region = tolower(state_full)\n  )\n\n# 2. Base US polygons (lower 48 + AK/HI)\nus_states &lt;- map_data(\"state\")\n\n# 3. Join polygons with justice referral rates\nmap_race_df &lt;- us_states |&gt;\n  left_join(state_race_map, by = \"region\") |&gt;\n  # keep only polygons that matched some race (no extra NA facet)\n  filter(!is.na(race_label))\n\n# 4. Faceted choropleth: referrals per student, by race\nggplot(\n  map_race_df,\n  aes(x = long, y = lat, group = group, fill = justice_per_race)\n) +\n  geom_polygon(color = \"white\", linewidth = 0.2) +\n  coord_fixed(1.3) +\n  facet_wrap(~ race_label) +\n  scale_fill_viridis_c(\n    option = \"C\",\n    na.value = \"grey90\",  # states with no data for that race = grey\n    labels = percent_format(accuracy = 0.01),\n    name   = \"Referral rate\\n(per student)\"\n  ) +\n  labs(\n    title = \"Referrals to Law Enforcement per Student by State\\nFaceted by Race\",\n    x = NULL,\n    y = NULL\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text  = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank(),\n    strip.text = element_text(face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\nThese faceted maps show that referrals to law enforcement are far less uniformly distributed across racial groups than overall disciplinary actions. Most states maintain very low referral rates across all populations. However, a small cluster of states in the midwest, consistently display much higher referral rates for multiple racial groups. This pattern is especially pronounced for Black students. South Dakota in particular stands out with referral rates exceeding 1% far above the national baseline.The maps also reveal that the racial disparities visible in broader disciplinary measures tend to show weaker correlations in the context of law enforcement referrals.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "3.1 Description",
    "text": "3.1 Description",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "4  Conclusion",
    "section": "",
    "text": "Looking across the country, the data was converted from raw discipline counts into rates per student so that big and small states could be fairly compared. Most states cluster at relatively low levels of suspensions, expulsions, and other punishments, but a smaller group of states especially in the South, like Arkansas, Mississippi, South Carolina, Louisiana, and Alabama use formal discipline much more often.\nWhen the discipline map is placed next to the 2020 election map, a strong pattern emerges. States that vote more conservatively are also the ones that use school discipline more aggressively, while many liberal leaning states have lower discipline rates. A scatterplot helps to show this correlation visually. This does not prove that political leanings directly affect discipline rates, but it suggests that broader political and cultural attitudes about punishment and “law and order” show up inside schools as well.\nThe racial breakdown deepens this picture. Native American, Black, and multiracial students are disciplined at notably higher rates than their peers in many states. Places like Arkansas stand out as especially harsh across almost every racial group. When we look specifically at referrals to law enforcement and school-based arrests classic entry points into the juvenile justice system—most states use them rarely, but a few such as South Dakota and Wyoming rely on them much more. Taken together, these findings show the trends that help to define the school to prison pipeline.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  }
]